SELECT COUNT(*) FROM issues INNER JOIN projects ON projects.id = issues.project_id LEFT JOIN project_features ON projects.id = project_features.project_id WHERE issues.closed_at IS NULL AND issues.state_id = 1 AND EXISTS (SELECT TRUE FROM issue_assignees WHERE user_id = 1 AND issue_id = issues.id) AND (EXISTS (SELECT 1 FROM project_authorizations WHERE project_authorizations.user_id = 1 AND project_authorizations.project_id = projects.id) OR projects.visibility_level IN (0, 10, 20)) AND projects.id IN (SELECT issues.project_id FROM issues WHERE issues.closed_at IS NULL AND issues.state_id IN (1) AND EXISTS (SELECT TRUE FROM issue_assignees WHERE user_id = 1 AND issue_id = issues.id)) AND (project_features.issues_access_level IN (10, 20) OR project_features.issues_access_level IS NULL)