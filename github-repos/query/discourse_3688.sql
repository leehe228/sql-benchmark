SELECT COUNT(count_column) FROM (SELECT post_actions.id AS count_column FROM "post_actions" INNER JOIN "posts" ON "posts"."id" = "post_actions"."post_id" AND ("posts"."deleted_at" IS NOT NULL) LEFT JOIN bookmarks ON bookmarks.post_id = post_actions.post_id AND bookmarks.user_id = post_actions.user_id INNER JOIN topics ON topics.id = posts.topic_id WHERE ("post_actions"."deleted_at" IS NOT NULL) AND "post_actions"."post_action_type_id" = 1 AND "post_actions"."deleted_at" IS NOT NULL AND (bookmarks.id IS NULL) LIMIT 1) subquery_for_count