SELECT COUNT(DISTINCT `spree_products`.`id`) FROM `spree_products` INNER JOIN `spree_variants` ON `spree_variants`.`deleted_at` IS NULL AND `spree_variants`.`product_id` = `spree_products`.`id` AND `spree_variants`.`is_master` = TRUE INNER JOIN `spree_prices` ON `spree_prices`.`deleted_at` IS NULL AND `spree_prices`.`variant_id` = `spree_variants`.`id` AND `spree_prices`.`currency` = 'USD' INNER JOIN `spree_prices` `prices_spree_variants` ON `prices_spree_variants`.`deleted_at` IS NULL AND `prices_spree_variants`.`variant_id` = `spree_variants`.`id` WHERE `spree_products`.`deleted_at` IS NULL AND `spree_prices`.`amount` BETWEEN 19.97 AND 20.01 AND `spree_prices`.`currency` = 'USD' AND `spree_products`.`name` LIKE '%Test Product%' AND (`spree_products`.deleted_at IS NULL or `spree_products`.deleted_at >= '2020-05-01 07:05:59.453732') AND (`spree_products`.discontinue_on IS NULL or `spree_products`.discontinue_on >= '2020-05-01 07:05:59.454038') AND (`spree_products`.available_on <= '2020-05-01 07:05:59.454019')