SELECT DISTINCT bookmarks.created_at AS alias_0, "bookmarks"."id" FROM "bookmarks" LEFT OUTER JOIN "topics" ON "topics"."id" = "bookmarks"."topic_id" AND ("topics"."deleted_at" IS NOT NULL) LEFT OUTER JOIN "topic_tags" ON "topic_tags"."topic_id" = "topics"."id" LEFT OUTER JOIN "tags" ON "tags"."id" = "topic_tags"."tag_id" LEFT OUTER JOIN "posts" ON "posts"."id" = "bookmarks"."post_id" AND ("posts"."deleted_at" IS NOT NULL) LEFT OUTER JOIN "users" ON "users"."id" = "posts"."user_id" WHERE "bookmarks"."user_id" = 5693 AND ("topics"."deleted_at" IS NOT NULL) AND ((topics.archetype <> 'private_message') AND (topics.category_id IS NULL OR topics.category_id IN (SELECT id FROM categories WHERE NOT read_restricted)) OR "topics"."archetype" = 'private_message' AND (topics.id IN (SELECT topic_id FROM topic_allowed_users WHERE user_id = 5693 UNION ALL SELECT tg.topic_id FROM topic_allowed_groups tg JOIN group_users gu ON gu.user_id = 5693 AND gu.group_id = tg.group_id ))) AND ("posts"."deleted_at" IS NOT NULL) AND (posts.post_type IN (1,2,3)) ORDER BY bookmarks.created_at DESC LIMIT 1