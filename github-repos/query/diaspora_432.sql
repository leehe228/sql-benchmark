SELECT DISTINCT posts.* FROM `posts` LEFT OUTER JOIN share_visibilities ON share_visibilities.shareable_id = posts.id AND share_visibilities.shareable_type = 'Post' WHERE `posts`.`author_id` = 3 AND (`share_visibilities`.`user_id` = 1 OR `posts`.`public` = TRUE) AND (posts.created_at < '2020-04-28 06:37:11.986615') AND `posts`.`type` IN ('StatusMessage', 'Reshare') ORDER BY posts.created_at desc, posts.created_at DESC, posts.id DESC LIMIT 15