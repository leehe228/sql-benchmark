SELECT "topics"."id" FROM "topics" LEFT OUTER JOIN "categories" ON "categories"."id" = "topics"."category_id" LEFT OUTER JOIN "posts" ON "posts"."topic_id" = "topics"."id" AND "posts"."post_number" = 1 AND ("posts"."deleted_at" IS NOT NULL) WHERE (categories.id in (3754) AND ( categories.topic_id <> topics.id OR categories.id = 3754 ) ) AND (topics.archetype <> 'private_message') AND (COALESCE(categories.topic_id, 0) <> topics.id) AND "topics"."visible" = TRUE AND (topics.deleted_at IS NOT NULL) AND "topics"."closed" = FALSE AND "topics"."archived" = FALSE AND (topics.created_at > '2019-03-27 06:24:57.766616') ORDER BY RANDOM() LIMIT 3000