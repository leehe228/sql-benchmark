SELECT `spree_orders_promotions`.`id` AS t0_r0, `spree_orders_promotions`.`order_id` AS t0_r1, `spree_orders_promotions`.`promotion_id` AS t0_r2, `spree_orders_promotions`.`promotion_code_id` AS t0_r3, `spree_orders_promotions`.`created_at` AS t0_r4, `spree_orders_promotions`.`updated_at` AS t0_r5, `spree_promotions`.`id` AS t1_r0, `spree_promotions`.`description` AS t1_r1, `spree_promotions`.`expires_at` AS t1_r2, `spree_promotions`.`starts_at` AS t1_r3, `spree_promotions`.`name` AS t1_r4, `spree_promotions`.`type` AS t1_r5, `spree_promotions`.`usage_limit` AS t1_r6, `spree_promotions`.`match_policy` AS t1_r7, `spree_promotions`.`advertise` AS t1_r8, `spree_promotions`.`path` AS t1_r9, `spree_promotions`.`created_at` AS t1_r10, `spree_promotions`.`updated_at` AS t1_r11, `spree_promotions`.`promotion_category_id` AS t1_r12, `spree_promotions`.`per_code_usage_limit` AS t1_r13, `spree_promotions`.`apply_automatically` AS t1_r14 FROM `spree_orders_promotions` INNER JOIN `spree_promotions` ON `spree_promotions`.`id` = `spree_orders_promotions`.`promotion_id` INNER JOIN `spree_promotion_actions` ON `spree_promotion_actions`.`deleted_at` IS NULL AND `spree_promotion_actions`.`promotion_id` = `spree_promotions`.`id` WHERE `spree_orders_promotions`.`order_id` = 83 AND (`spree_promotions`.`starts_at` IS NULL OR `spree_promotions`.`starts_at` < '2020-05-16 05:23:59') AND (`spree_promotions`.`expires_at` IS NULL OR `spree_promotions`.`expires_at` > '2020-05-16 05:23:59') AND `spree_promotion_actions`.`deleted_at` IS NULL AND `spree_promotion_actions`.`type` = 'Spree::Promotion::Actions::FreeShipping'