SELECT MAX(id) AS id, MAX(badge_id) AS badge_id, MAX(user_id) AS user_id, MAX(granted_at) AS granted_at, MAX(granted_by_id) AS granted_by_id, MAX(post_id) AS post_id, MAX(notification_id) AS notification_id, MAX(seq) AS seq, MAX(featured_rank) AS featured_rank, COUNT(*) AS "count" FROM "user_badges" WHERE "user_badges"."user_id" = 6246 AND (user_badges.badge_id IN (SELECT id FROM badges WHERE enabled)) GROUP BY "user_badges"."badge_id"