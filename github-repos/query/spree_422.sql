SELECT COUNT(DISTINCT `spree_products`.`id`) AS count_id, spree_products.id AS spree_products_id FROM `spree_products` INNER JOIN `spree_variants` ON `spree_variants`.`deleted_at` IS NULL AND `spree_variants`.`product_id` = `spree_products`.`id` INNER JOIN `spree_option_value_variants` ON `spree_option_value_variants`.`variant_id` = `spree_variants`.`id` INNER JOIN `spree_option_values` ON `spree_option_values`.`id` = `spree_option_value_variants`.`option_value_id` INNER JOIN `spree_variants` `masters_spree_products` ON `masters_spree_products`.`deleted_at` IS NULL AND `masters_spree_products`.`product_id` = `spree_products`.`id` AND `masters_spree_products`.`is_master` = TRUE INNER JOIN `spree_prices` ON `spree_prices`.`deleted_at` IS NULL AND `spree_prices`.`variant_id` = `masters_spree_products`.`id` WHERE `spree_products`.`deleted_at` IS NULL AND (spree_option_values.name = 'Size-100' AND spree_option_values.option_type_id = 99) AND (`spree_products`.deleted_at IS NULL or `spree_products`.deleted_at >= '2020-05-01 07:06:13.063636') AND (`spree_products`.discontinue_on IS NULL or `spree_products`.discontinue_on >= '2020-05-01 07:06:13.063867') AND (`spree_products`.available_on <= '2020-05-01 07:06:13.063851') GROUP BY spree_products.id LIMIT 25 OFFSET 0