SELECT COUNT(*) FROM `spree_products` LEFT OUTER JOIN `spree_variants` ON `spree_variants`.`deleted_at` IS NULL AND `spree_variants`.`product_id` = `spree_products`.`id` WHERE `spree_products`.`deleted_at` IS NULL AND (`spree_products`.discontinue_on IS NULL or `spree_products`.discontinue_on >= '2020-05-01 07:25:41.148961') AND (`spree_products`.`name` LIKE '%ap%' AND `spree_variants`.`sku` LIKE '%A1%')