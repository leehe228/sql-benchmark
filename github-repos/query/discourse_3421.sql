SELECT "groups".* FROM "groups" WHERE (mentionable_level in (99) OR ( mentionable_level = 3 AND id in ( SELECT group_id FROM group_users WHERE user_id = 5780) ) OR ( mentionable_level = 4 AND id in ( SELECT group_id FROM group_users WHERE user_id = 5780 AND owner IS TRUE) ) OR visibility_level = 0) AND (name ILIKE '%a%' OR full_name ILIKE '%a%') ORDER BY groups.name asc