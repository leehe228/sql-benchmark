SELECT "users".* FROM "users" LEFT JOIN (SELECT gu.user_id, MAX(g.grant_trust_level) AS group_granted_trust_level FROM groups g, group_users gu WHERE g.id = gu.group_id GROUP BY gu.user_id) tl ON users.id = tl.user_id WHERE (users.id > 0) AND (NOT EXISTS( SELECT 1 FROM anonymous_users a WHERE a.user_id = users.id )) AND "users"."trust_level" = 3 AND "users"."manual_locked_trust_level" IS NULL AND (group_granted_trust_level IS NULL OR group_granted_trust_level < 3) ORDER BY "users"."id" ASC LIMIT 1000