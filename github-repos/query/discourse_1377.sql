SELECT "users"."id" FROM "users" WHERE (id IN ( SELECT user_id FROM topic_users WHERE notification_level = 3 AND topic_id = 16038 UNION SELECT cu.user_id FROM category_users cu LEFT JOIN topic_users tu ON tu.user_id = cu.user_id AND tu.topic_id = 16038 WHERE cu.notification_level = 3 AND cu.category_id = 1 AND tu.user_id IS NULL UNION SELECT tag_users.user_id FROM tag_users LEFT JOIN topic_users tu ON tu.user_id = tag_users.user_id AND tu.topic_id = 16038 WHERE tag_users.notification_level = 3 AND tag_users.tag_id IN (1658,1660) AND tu.user_id IS NULL ) ) AND (id NOT IN (1088))