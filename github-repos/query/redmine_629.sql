SELECT COUNT(*) FROM `issues` INNER JOIN `projects` ON `projects`.`id` = `issues`.`project_id` INNER JOIN `issue_statuses` ON `issue_statuses`.`id` = `issues`.`status_id` WHERE (projects.status <> 9 AND EXISTS (SELECT 1 AS one FROM enabled_modules em WHERE em.project_id = projects.id AND em.name='issue_tracking')) AND (issues.project_id IN (SELECT projects.id FROM projects LEFT OUTER JOIN custom_values ON custom_values.customized_type='Project' AND custom_values.customized_id=projects.id AND custom_values.custom_field_id=1279 WHERE (custom_values.value IN ('Foo')) AND (1=1)))