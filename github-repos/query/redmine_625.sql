SELECT `queries`.* FROM `queries` LEFT OUTER JOIN projects ON queries.project_id = projects.id WHERE `queries`.`type` IN ('IssueQuery') AND (queries.project_id IS NULL OR (((projects.status <> 9 AND EXISTS (SELECT 1 AS one FROM enabled_modules em WHERE em.project_id = projects.id AND em.name='issue_tracking')) AND ((projects.is_public = TRUE AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (898,12))))))) AND (queries.visibility = 2 OR queries.user_id = 898) AND `queries`.`project_id` IS NULL ORDER BY `queries`.`name` ASC, `queries`.`id` ASC