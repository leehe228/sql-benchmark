SELECT DISTINCT `spree_variants`.`id` FROM `spree_variants` INNER JOIN `spree_stock_items` ON `spree_stock_items`.`deleted_at` IS NULL AND `spree_stock_items`.`variant_id` = `spree_variants`.`id` LEFT OUTER JOIN `spree_option_values_variants` ON `spree_option_values_variants`.`variant_id` = `spree_variants`.`id` LEFT OUTER JOIN `spree_option_values` ON `spree_option_values`.`id` = `spree_option_values_variants`.`option_value_id` LEFT OUTER JOIN `spree_option_types` ON `spree_option_types`.`id` = `spree_option_values`.`option_type_id` WHERE `spree_variants`.`deleted_at` IS NULL AND `spree_variants`.`product_id` = 1426 AND `spree_variants`.`is_master` = FALSE AND (`spree_stock_items`.`count_on_hand` > 0 OR `spree_variants`.`track_inventory` = FALSE)