SELECT "topics".* FROM "topics" LEFT JOIN topic_users tu ON topics.id = tu.topic_id AND tu.user_id = 13455 LEFT JOIN ( SELECT * FROM topic_allowed_groups _tg LEFT JOIN group_users gu ON gu.user_id = 13455 AND gu.group_id = _tg.group_id AND gu.group_id IN (47) ) tg ON topics.id = tg.topic_id LEFT JOIN topic_allowed_users ta2 ON topics.id = ta2.topic_id AND ta2.user_id IN (32852) WHERE ("topics"."deleted_at" IS NOT NULL) AND ( topics.archetype = 'private_message' ) AND (tg.topic_id IS NOT NULL) AND (ta2.topic_id IS NOT NULL) AND ( topics.id NOT IN ( 69933, 69995, 69988, 69984, 69968, 69973, 69971, 69952 ) ) AND "topics"."visible" = 't' ORDER BY topics.bumped_at DESC LIMIT 3;