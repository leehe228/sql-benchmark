SELECT COUNT(count_column) FROM (SELECT DISTINCT `spree_products`.`id` AS count_column FROM `spree_products` INNER JOIN `spree_variants` ON `spree_variants`.`deleted_at` IS NULL AND `spree_variants`.`product_id` = `spree_products`.`id` AND `spree_variants`.`is_master` = TRUE INNER JOIN `spree_prices` ON `spree_prices`.`deleted_at` IS NULL AND `spree_prices`.`variant_id` = `spree_variants`.`id` INNER JOIN `spree_prices` `default_prices_spree_variants` ON `default_prices_spree_variants`.`deleted_at` IS NULL AND `default_prices_spree_variants`.`variant_id` = `spree_variants`.`id` AND `default_prices_spree_variants`.`currency` = 'USD' WHERE `spree_products`.`deleted_at` IS NULL AND (`spree_products`.discontinue_on IS NULL or `spree_products`.discontinue_on >= '2020-05-01 07:32:11.624160') AND (`spree_products`.available_on <= '2020-05-01 07:32:11.623978') AND (`spree_products`.deleted_at IS NULL or `spree_products`.deleted_at >= '2020-05-01 07:32:11.625380') AND (`spree_products`.discontinue_on IS NULL or `spree_products`.discontinue_on >= '2020-05-01 07:32:11.625525') AND (`spree_products`.available_on <= '2020-05-01 07:32:11.625512') AND (`spree_prices`.`amount` <= 10.0 OR `spree_prices`.`amount` BETWEEN 10.0 AND 15.0) AND (`spree_products`.discontinue_on IS NULL or `spree_products`.discontinue_on >= '2020-05-01 07:32:11.634487') AND (`spree_products`.available_on <= '2020-05-01 07:32:11.634461') AND (spree_prices.amount IS NOT NULL) AND `spree_prices`.`currency` = 'USD' LIMIT 12 OFFSET 0) subquery_for_count