SELECT `projects`.* FROM `projects` WHERE (projects.lft < 6 AND projects.rgt > 7) AND (((projects.status <> 9) AND ((projects.is_public = TRUE AND projects.id NOT IN (SELECT project_id FROM members WHERE user_id IN (7,12)))))) ORDER BY `projects`.`lft` ASC