SELECT `people`.* FROM `people` INNER JOIN `profiles` ON `profiles`.`person_id` = `people`.`id` LEFT OUTER JOIN contacts ON contacts.user_id = 1 AND contacts.person_id = people.id WHERE ( profiles.full_name LIKE '%korth%' OR people.diaspora_handle LIKE 'korth%' ) AND (profiles.searchable = true OR contacts.user_id = 1) AND `people`.`closed_account` = FALSE ORDER BY contacts.user_id IS NULL, profiles.last_name ASC, profiles.first_name ASC LIMIT 15 OFFSET 0