SELECT DISTINCT `spree_products_taxons`.`position`, `spree_products`.`id` AS t0_r0, `spree_products`.`name` AS t0_r1, `spree_products`.`description` AS t0_r2, `spree_products`.`available_on` AS t0_r3, `spree_products`.`deleted_at` AS t0_r4, `spree_products`.`slug` AS t0_r5, `spree_products`.`meta_description` AS t0_r6, `spree_products`.`meta_keywords` AS t0_r7, `spree_products`.`tax_category_id` AS t0_r8, `spree_products`.`shipping_category_id` AS t0_r9, `spree_products`.`created_at` AS t0_r10, `spree_products`.`updated_at` AS t0_r11, `spree_products`.`promotionable` AS t0_r12, `spree_products`.`meta_title` AS t0_r13, `spree_products_taxons`.`id` AS t1_r0, `spree_products_taxons`.`product_id` AS t1_r1, `spree_products_taxons`.`taxon_id` AS t1_r2, `spree_products_taxons`.`position` AS t1_r3, `spree_products_taxons`.`created_at` AS t1_r4, `spree_products_taxons`.`updated_at` AS t1_r5 FROM `spree_products` INNER JOIN `spree_variants` ON `spree_variants`.`is_master` = TRUE AND `spree_variants`.`product_id` = `spree_products`.`id` INNER JOIN `spree_variants` `variants_including_masters_spree_products_join` ON `variants_including_masters_spree_products_join`.`deleted_at` IS NULL AND `variants_including_masters_spree_products_join`.`product_id` = `spree_products`.`id` INNER JOIN `spree_prices` ON `spree_prices`.`deleted_at` IS NULL AND `spree_prices`.`variant_id` = `variants_including_masters_spree_products_join`.`id` LEFT OUTER JOIN `spree_products_taxons` ON `spree_products_taxons`.`product_id` = `spree_products`.`id` WHERE `spree_products`.`deleted_at` IS NULL AND EXISTS (SELECT `spree_prices`.* FROM `spree_prices` WHERE `spree_prices`.`deleted_at` IS NULL AND `spree_variants`.`id` = `spree_prices`.`variant_id`) AND (`spree_products`.available_on <= '2020-05-16 05:22:50.857440') AND `spree_products_taxons`.`taxon_id` IN (18, 19, 20) AND (`spree_products`.`name` LIKE '%shirt%' OR `spree_products`.`description` LIKE '%shirt%') AND `spree_prices`.`deleted_at` IS NULL AND `spree_prices`.`currency` = 'USD' AND `spree_prices`.`country_iso` IS NULL AND `spree_products`.`id` = 28 ORDER BY `spree_products_taxons`.`position` ASC