SELECT distinct "posts".* FROM "posts" INNER JOIN "post_search_data" ON "post_search_data"."post_id" = "posts"."id" INNER JOIN "topics" ON "topics"."id" = "posts"."topic_id" AND ("topics"."deleted_at" IS NOT NULL) LEFT JOIN categories ON categories.id = topics.category_id WHERE ("posts"."deleted_at" IS NOT NULL) AND "posts"."post_type" IN (1, 2, 3) AND (topics.visible) AND (topics.archetype <> 'private_message') AND (posts.user_id IN (select gu.user_id from group_users gu where gu.group_id = 2902)) AND NOT (categories.search_priority = 1) AND ((categories.id IS NULL) OR (NOT categories.read_restricted)) AND (posts.topic_id NOT in (18638)) ORDER BY posts.created_at DESC LIMIT 15 OFFSET 0