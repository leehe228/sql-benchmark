SELECT `spree_variants`.* FROM `spree_variants` INNER JOIN `spree_option_value_variants` ON `spree_option_value_variants`.`variant_id` = `spree_variants`.`id` INNER JOIN `spree_option_values` ON `spree_option_values`.`id` = `spree_option_value_variants`.`option_value_id` WHERE `spree_variants`.`deleted_at` IS NULL AND `spree_variants`.`id` IN (SELECT DISTINCT `spree_variants`.`id` FROM `spree_variants` INNER JOIN `spree_prices` ON `spree_prices`.`deleted_at` IS NULL AND `spree_prices`.`variant_id` = `spree_variants`.`id` WHERE `spree_variants`.`deleted_at` IS NULL AND `spree_variants`.`product_id` = 1348 AND `spree_variants`.`is_master` = FALSE AND (`spree_variants`.`discontinue_on` IS NULL OR `spree_variants`.`discontinue_on` >= '2020-05-01 07:36:45') AND (`spree_variants`.deleted_at IS NULL) AND (spree_prices.currency = 'USD') AND (spree_prices.amount IS NOT NULL)) ORDER BY spree_option_values.position ASC