SELECT `journals`.* FROM `journals` INNER JOIN `issues` ON `issues`.`id` = `journals`.`journalized_id` INNER JOIN `projects` ON `projects`.`id` = `issues`.`project_id` INNER JOIN `issue_statuses` ON `issue_statuses`.`id` = `issues`.`status_id` WHERE (projects.status <> 9 AND EXISTS (SELECT 1 AS one FROM enabled_modules em WHERE em.project_id = projects.id AND em.name='issue_tracking')) AND ((journals.private_notes = FALSE OR journals.user_id = 1 OR (projects.status <> 9))) AND ((issues.status_id IN (SELECT id FROM issue_statuses WHERE is_closed=FALSE))) ORDER BY journals.created_on DESC LIMIT 25