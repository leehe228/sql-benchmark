SELECT `spree_promotions`.`id` AS t0_r0, `spree_promotions`.`description` AS t0_r1, `spree_promotions`.`expires_at` AS t0_r2, `spree_promotions`.`starts_at` AS t0_r3, `spree_promotions`.`name` AS t0_r4, `spree_promotions`.`type` AS t0_r5, `spree_promotions`.`usage_limit` AS t0_r6, `spree_promotions`.`match_policy` AS t0_r7, `spree_promotions`.`code` AS t0_r8, `spree_promotions`.`advertise` AS t0_r9, `spree_promotions`.`path` AS t0_r10, `spree_promotions`.`created_at` AS t0_r11, `spree_promotions`.`updated_at` AS t0_r12, `spree_promotions`.`promotion_category_id` AS t0_r13, `spree_promotion_rules`.`id` AS t1_r0, `spree_promotion_rules`.`promotion_id` AS t1_r1, `spree_promotion_rules`.`user_id` AS t1_r2, `spree_promotion_rules`.`product_group_id` AS t1_r3, `spree_promotion_rules`.`type` AS t1_r4, `spree_promotion_rules`.`created_at` AS t1_r5, `spree_promotion_rules`.`updated_at` AS t1_r6, `spree_promotion_rules`.`code` AS t1_r7, `spree_promotion_rules`.`preferences` AS t1_r8, `spree_promotion_actions`.`id` AS t2_r0, `spree_promotion_actions`.`promotion_id` AS t2_r1, `spree_promotion_actions`.`position` AS t2_r2, `spree_promotion_actions`.`type` AS t2_r3, `spree_promotion_actions`.`deleted_at` AS t2_r4 FROM `spree_promotions` LEFT OUTER JOIN `spree_promotion_rules` ON `spree_promotion_rules`.`promotion_id` = `spree_promotions`.`id` LEFT OUTER JOIN `spree_promotion_actions` ON `spree_promotion_actions`.`deleted_at` IS NULL AND `spree_promotion_actions`.`promotion_id` = `spree_promotions`.`id` WHERE (spree_promotions.starts_at IS NULL OR spree_promotions.starts_at < '2020-05-01 07:06:54.842758') AND (spree_promotions.expires_at IS NULL OR spree_promotions.expires_at > '2020-05-01 07:06:54.842930') AND (lower(spree_promotions.code) = 'freeship') AND `spree_promotion_actions`.`id` IS NOT NULL AND `spree_promotions`.`id` = 10 ORDER BY `spree_promotions`.`id` ASC