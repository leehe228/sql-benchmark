SELECT COUNT(*) FROM (SELECT DISTINCT *, amount*probability FROM `opportunities` WHERE ((`opportunities`.`assigned_to` = 1359) OR ((`opportunities`.`user_id` = 1359) OR (`opportunities`.`access` = 'Public')))) subquery_for_count