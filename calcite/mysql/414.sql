SELECT t4.EMPNO, CASE WHEN t8.c = 0 THEN FALSE WHEN t13.i IS NOT NULL THEN TRUE WHEN t4.DEPTNO IS NULL THEN NULL WHEN t8.ck < t8.c THEN NULL ELSE FALSE END AS D FROM (SELECT EMP1.EMPNO, CASE WHEN TRUE THEN EMP1.DEPTNO ELSE NULL END AS DEPTNO FROM EMP AS EMP1) AS t4 INNER JOIN (SELECT COUNT(*) AS c, COUNT(t5.DEPTNO) AS ck FROM (SELECT EMP2.EMPNO, CASE WHEN TRUE THEN EMP2.DEPTNO ELSE NULL END AS DEPTNO FROM EMP AS EMP2) AS t5 WHERE t5.EMPNO < 20) AS t8 LEFT JOIN (SELECT t9.DEPTNO, 1 AS i FROM (SELECT EMP3.EMPNO, CASE WHEN TRUE THEN EMP3.DEPTNO ELSE NULL END AS DEPTNO FROM EMP AS EMP3) AS t9 WHERE t9.EMPNO < 20 GROUP BY t9.DEPTNO, TRUE) AS t13 ON t4.DEPTNO = t13.DEPTNO
